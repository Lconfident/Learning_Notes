## 如何更好地理解和掌握KMP算法？

KMP算法的核心，是一个被称为**部分匹配表**（Partial Match Table）的数组。

对于字符串“abababca”，它的PMT如下：

| char: | a    | b    | a    | b    | a | b | c |a|
| ----- | ---- | ---- | ---- | ---- | ---- |---|---|---|
|index:| 0 | 1 | 2 | 3 | 4 | 5 |6|7|
|value:| 0 | 0 | 1 | 2 | 3 | 4 |0|1|

就像例子中所示的，如果待匹配的模式字符串有8个字符，那么PMT就会有8个值。

这里先解释一下字符串的前缀和后缀。如果字符串A和B，存在A=BS，其中S是任意的非空字符串，就称B为A的前缀。例如，“Harry”的前缀包括{“H”，“Ha”，“Har”，“Harr”}，我们把前缀组成的集合，称为字符串的前缀集合。同样可以定义后缀A=SB，其中S为任意的非空字符串，那就称B为A的后缀集合，例如，“Potter”的后缀集合包括{“otter”，“tter”，“ter”，“er”，“r“}，把所有后缀组成的集合，称为字符串的后缀集合。要注意的是，字符串本身并不是自己的后缀。

有了这个定义，就可以说明PMT中的值的意义了。**PMT中的值是字符串的前缀集合与后缀集合的交集中最长元素的长度**。例如，对于”aba“，它的前缀集合为{”a“，”ab“}，后缀集合为{”ba“，”a“}。两个集合的交集为{”a“}，那么长度最长的元素就是字符串”a“了，长度为1，所以对于”aba“而言，它在PMT表中对应的值就是1。再比如，对于字符串”ababa“，它的前缀集合为{”a“，”ab“，”aba“，”abab”}，它的后缀集合为{“baba”，“aba“，”ba“，”a”}，它的交集为{“a”，“aba”}，其中最长的元素为“aba”，长度为3。

好了，解释清楚这个表是什么之后，我们再来看使用这个表来加速字符串的查找，以及这样用的道理是什么。

